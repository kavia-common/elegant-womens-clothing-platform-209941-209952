{"is_source_file": true, "format": "JavaScript", "description": "This file contains user-related services for a Node.js backend, including user creation, credential verification, token generation, and database queries related to users.", "external_files": ["../db"], "external_methods": ["query"], "published": ["generateToken", "findByEmail", "findById", "createUser", "verifyCredentials"], "classes": [], "methods": [{"name": "generateToken(user)", "description": "Creates a JWT token for a user with payload including id, email, name, and role, with configurable expiration.", "scope": "", "scopeKind": ""}, {"name": "findByEmail(email)", "description": "Fetches user details from the database based on email address.", "scope": "", "scopeKind": ""}, {"name": "findById(id)", "description": "Retrieves user details by user ID.", "scope": "", "scopeKind": ""}, {"name": "createUser({ name, email, password, role })", "description": "Creates a new user in the database after ensuring email is not already registered, hashing the password.", "scope": "", "scopeKind": ""}, {"name": "verifyCredentials(email, password)", "description": "Confirms if the provided email and password match an existing user.", "scope": "", "scopeKind": ""}], "calls": ["query", "bcrypt.hash", "bcrypt.compare", "jwt.sign"], "search-terms": ["user.js", "JWT", "bcrypt", "createUser", "verifyCredentials", "findByEmail", "generateToken"], "state": 2, "file_id": 17, "knowledge_revision": 44, "git_revision": "", "ctags": [{"_type": "tag", "name": "SALT_ROUNDS", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^const SALT_ROUNDS = Number(process.env.BCRYPT_SALT_ROUNDS || 10);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "bcrypt", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^const bcrypt = require('bcrypt');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createUser", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^async function createUser({ name, email, password, role }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name, email, password, role })"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "property", "scope": "generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "findByEmail", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^async function findByEmail(email) {$/", "language": "JavaScript", "kind": "function", "signature": "(email)"}, {"_type": "tag", "name": "findById", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^async function findById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "generateToken", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  generateToken,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "generateToken", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^function generateToken(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "property", "scope": "generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "property", "scope": "generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "class", "scope": "generateToken", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "property", "scope": "generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "verifyCredentials", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^async function verifyCredentials(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}], "hash": "af89b56ef48c9f169ddcd42d5a434e82", "format-version": 4, "code-base-name": "backend_express_js", "filename": "backend_express_js/src/services/user.js", "fields": [{"name": "const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "scope": "generateToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "generateToken,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"44": ""}]}