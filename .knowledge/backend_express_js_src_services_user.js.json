{"is_source_file": true, "format": "JavaScript", "description": "This file contains user service functions for user management, authentication, and token generation in a backend application, including functions to find, create, and verify users.", "external_files": ["../db"], "external_methods": ["query"], "published": ["generateToken", "findByEmail", "findById", "createUser", "verifyCredentials"], "classes": [], "methods": [{"name": "generateToken(user)", "description": "Generates a JSON Web Token for a given user, including user id, email, name, and role.", "scope": "", "scopeKind": ""}, {"name": "findByEmail(email)", "description": "Retrieves a user record from the database using an email address.", "scope": "", "scopeKind": ""}, {"name": "findById(id)", "description": "Retrieves a user record from the database using the user ID.", "scope": "", "scopeKind": ""}, {"name": "createUser({ name, email, password, role })", "description": "Creates a new user in the database after checking for existing email and hashing the password.", "scope": "", "scopeKind": ""}, {"name": "verifyCredentials(email, password)", "description": "Verifies user email and password combination during login.", "scope": "", "scopeKind": ""}], "calls": ["jwt.sign", "query", "bcrypt.hash", "bcrypt.compare"], "search-terms": ["user.js", "user management", "auth", "JWT", "bcrypt", "createUser", "verifyCredentials"], "state": 2, "file_id": 17, "knowledge_revision": 73, "git_revision": "d97d4e9e711c47305e9519a9981548be39f6ffb3", "revision_history": [{"44": ""}, {"73": "d97d4e9e711c47305e9519a9981548be39f6ffb3"}], "ctags": [{"_type": "tag", "name": "SALT_ROUNDS", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^const SALT_ROUNDS = Number(process.env.BCRYPT_SALT_ROUNDS || 10);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "bcrypt", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^const bcrypt = require('bcrypt');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createUser", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^async function createUser({ name, email, password, role }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name, email, password, role })"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "property", "scope": "generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "findByEmail", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^async function findByEmail(email) {$/", "language": "JavaScript", "kind": "function", "signature": "(email)"}, {"_type": "tag", "name": "findById", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^async function findById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "generateToken", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  generateToken,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "generateToken", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^function generateToken(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "property", "scope": "generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "property", "scope": "generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "class", "scope": "generateToken", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^  const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "language": "JavaScript", "kind": "property", "scope": "generateToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "verifyCredentials", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209952/backend_express_js/src/services/user.js", "pattern": "/^async function verifyCredentials(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}], "hash": "4eb428b9d38d9d042a174c427e47014e", "format-version": 4, "code-base-name": "backend_express_js", "filename": "backend_express_js/src/services/user.js", "fields": [{"name": "const payload = { id: user.id, email: user.email, name: user.name, role: user.role || 'user' }/", "scope": "generateToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "generateToken,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}